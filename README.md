# CompShop — Полноценный онлайн-магазин для продажи компьютерных комплектующих

**CompShop** — это мощный онлайн-магазин, предназначенный для покупки компьютерных комплектующих, аксессуаров и электроники. Система предоставляет пользователю удобный интерфейс для оформления заказов, выбора способов оплаты через банковские карты и множество других полезных функций, таких как персонализированные рекомендации с помощью GPT-3.

Проект включает как клиентскую, так и серверную части, интеграцию с внешними сервисами (GPT-3 для рекомендаций, IAR для работы с API), а также использование передовых технологий, таких как PostgreSQL для хранения данных и Docker для упрощения развертывания.

---

## Содержание

* [Описание проекта](#описание-проекта)
* [Технологии](#технологии)
* [Структура проекта](#структура-проекта)
* [Как запустить проект](#как-запустить-проект)

  * [Клонирование репозитория](#клонирование-репозитория)
  * [Установка зависимостей](#установка-зависимостей)
  * [Конфигурация](#конфигурация)
  * [Запуск проекта](#запуск-проекта)
* [Авторизация пользователей](#авторизация-пользователей)
* [Оформление заказов и выбор банковских карт](#оформление-заказов-и-выбор-банковских-карт)
* [Интеграция с GPT](#интеграция-с-gpt)
* [Тестирование](#тестирование)
* [Разработка](#разработка)
* [Лицензия](#лицензия)

---

## Описание проекта

**CompShop** — это онлайн-магазин, предоставляющий пользователям следующие возможности:

* **Регистрация и авторизация:** Пользователи могут создать аккаунт и войти в систему с использованием **JWT токенов** для обеспечения безопасности.
* **Корзина товаров:** Пользователи могут добавлять товары в корзину, изменять их количество и оформлять заказ.
* **Выбор способов оплаты:** Поддержка оплаты через **банковские карты** с безопасной обработкой платежей.
* **Админ-панель:** Администраторы могут управлять заказами, изменять их статусы, а также управлять данными пользователей.
* **Интеграция с GPT-3:** Генерация рекомендаций и помощь пользователям с помощью GPT-3.

### Главные функции:

* **Авторизация и регистрация пользователей**: Для регистрации и входа используется JWT. Этот токен позволяет обеспечивать безопасность пользовательских данных.
* **Корзина и оформление заказов**: Удобная корзина для добавления товаров и оформления заказа с интеграцией банковских карт.
* **Просмотр заказов**: Пользователи и администраторы могут отслеживать статусы заказов в реальном времени.
* **Интеграция с GPT-3**: GPT-3 помогает в предоставлении рекомендаций по товарам, улучшая пользовательский опыт.
* **Система скидок и промокодов**: Реализована система для применения скидок и промокодов при оформлении заказа.

---

## Технологии

Проект использует следующие технологии для фронтенда и бэкенда:

### Frontend

* **React** — основная библиотека для создания интерфейса.
* **React Router** — для маршрутизации между страницами.
* **Redux** — для управления состоянием на клиенте.
* **Axios** — для выполнения HTTP-запросов к серверу.
* **CSS / SASS** — для стилизации компонентов и страниц.
* **JWT** — для аутентификации пользователей через JSON Web Tokens.
* **React-Toastify** — для уведомлений пользователей.

### Backend

* **Node.js** — серверная платформа для выполнения JavaScript.
* **Express** — фреймворк для маршрутизации HTTP-запросов.
* **PostgreSQL** — реляционная база данных для хранения информации о товарах, пользователях и заказах.
* **Sequelize ORM** — для взаимодействия с PostgreSQL.
* **JWT** — для аутентификации пользователей.
* **GPT-3 (OpenAI)** — для предоставления рекомендаций и чат-бота.
* **IAR API** — для работы с внешними API и ключами.

### Инфраструктура

* **Docker** — для контейнеризации приложения.
* **Git** — для контроля версий.
* **PM2** — для управления серверными процессами.

---

## Структура проекта

Проект имеет следующую структуру:

```
CompShop/
├── backend/                # Серверная часть (Node.js + Express)
│   ├── config/             # Конфигурации
│   ├── controllers/        # Логика обработки запросов
│   ├── models/             # Модели Sequelize для базы данных
│   ├── routes/             # Роуты и маршруты API
│   ├── services/           # Сервисы для работы с внешними API (GPT, IAR)
│   └── app.js              # Главный серверный файл
│
├── frontend/               # Клиентская часть (React)
│   ├── src/
│   │   ├── components/     # UI компоненты
│   │   ├── pages/          # Страницы сайта
│   │   ├── store/          # Redux store
│   │   └── App.js          # Главный компонент
│   └── public/
│       └── index.html      # HTML-шаблон
│
├── .env                    # Конфигурационные файлы (клиент и сервер)
├── docker-compose.yml      # Файл для запуска контейнеров Docker
├── README.md               # Документация по проекту
└── package.json            # Настройки зависимостей для Node.js
```

---

## Как запустить проект

### Клонирование репозитория

Сначала клонируйте репозиторий:

```bash
git clone https://github.com/drag1web/CompShop.git
cd CompShop
```

### Установка зависимостей

Для **Frontend**:

```bash
cd frontend
npm install
```

Для **Backend**:

```bash
cd backend
npm install
```

### Конфигурация

#### IAR ключи и GPT

Для работы с внешними сервисами, такими как **IAR** и **GPT-3**, нужно добавить соответствующие API ключи в файл `.env` в корне проекта.

Пример конфигурации:

```
IAR_API_KEY=your_iar_api_key
GPT_API_KEY=your_gpt_api_key
DB_HOST=localhost
DB_PORT=5432
DB_USER=your_db_user
DB_PASSWORD=your_db_password
DB_NAME=comp_shop_db
```

#### PostgreSQL

Создайте базу данных **PostgreSQL** и настройте параметры подключения в `.env` файле:

```
PORT=5000
PGHOST=localhost
PGUSER=postgres
PGPASSWORD=postgres
PGDATABASE=myshop_utf8
PGPORT=5432
```

#### Docker

Если хотите использовать **Docker** для локальной разработки:

```bash
docker-compose up
```

Это создаст все необходимые контейнеры для работы приложения.

---

### Запуск проекта

Для запуска **Backend**:

```bash
cd backend
node server.js
```

Для запуска **Frontend**:

```bash
cd frontend
npm start
```

Теперь приложение будет доступно на [http://localhost:3000](http://localhost:3000).

---

## Авторизация пользователей

Проект использует **JWT** для авторизации пользователей. После регистрации или входа в систему, пользователи получают **JWT токен**, который используется для аутентификации всех последующих запросов (например, для доступа к корзине или заказам).

Основные эндпоинты для авторизации:

* `POST /api/auth/register` — Регистрация нового пользователя.
* `POST /api/auth/login` — Вход в систему.

Токен сохраняется в **localStorage** или **cookie** и используется для аутентификации запросов.

---

## Оформление заказов и выбор банковских карт

После того как товары добавлены в корзину, пользователи могут оформить заказ, выбрать способ оплаты (например, **банковскую карту**), и система безопасно обработает платеж.

Основные эндпоинты для заказов:

* `POST /api/order/create` — Создание нового заказа.
* `GET /api/order/{id}` — Получение информации о заказе по ID.

---

## Интеграция с GPT

**GPT-3** используется для генерации рекомендаций по товарам и для автоматической поддержки пользователей. Система анализирует покупки пользователей и предлагает товары, которые могут их заинтересовать, улучшая пользовательский опыт.

---

## Тестирование

Для тестирования backend и frontend использованы следующие инструменты:

* **Jest** — для тестирования серверной части.
* **React Testing Library** — для тестирования компонентов на стороне клиента.

---

## Разработка

Для внесения изменений в проект следуйте следующим шагам:

1. Создайте новую ветку для задачи:

```bash
git checkout -b feature/new-feature
```

2. Реализуйте функционал и сделайте коммит:

```bash
git commit -m "Добавлена новая фича"
``
```


\`

3. Запустите тесты и убедитесь, что все работает корректно.
4. Сделайте пулл-реквест и дождитесь проверки.

---

## Лицензия

Проект лицензирован под **MIT лицензией**. Более подробную информацию можно найти в файле **LICENSE**.

---

Это полное описание **CompShop**. Если необходимо внести дополнительные изменения или добавить новые возможности, всегда можно внести их в проект, следуя описанным шагам.
